package pkg

import (
	"encoding/base64"
	"github.com/axgle/mahonia"
	"fmt"
)

func TestGBK2UTF8() {
	gbk, _ := base64.StdEncoding.DecodeString("PGh0bWw+DQo8aGVhZD4NCjxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PWdiayIgLz4NCjx0aXRsZT6z9s/WtO3O86OhPC90aXRsZT4NCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Ii9pbWFnZXMvc3R5bGUuY3NzIiAvPg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL3NjcmlwdHMvY29tbW9uLmpzIj48L3NjcmlwdD4NCgkJCTwvaGVhZD4NCjxib2R5Pg0KPGRpdiBzdHlsZT0id2lkdGg6MTAwJTsgdGV4dC1hbGlnbjpjZW50ZXI7Ij4NCiAgPGRpdiBzdHlsZT0id2lkdGg6NTAwcHg7IG1hcmdpbi10b3A6MTUwcHg7Ij4NCiAgICA8ZGl2IGNsYXNzPSJibG9jayI+DQogICAgICA8ZGl2IGNsYXNzPSJibG9ja3RpdGxlIj6z9s/WtO3O86OhPC9kaXY+DQogICAgICA8ZGl2IGNsYXNzPSJibG9ja2NvbnRlbnQiPg0KCSAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHgiPjxiciAvPrTtzvPUrdLyo7q4w9PDu6fD+9LR16Ky4aOhPGJyIC8+PGJyIC8+PGJyIC8+x+sgPGEgaHJlZj0iamF2YXNjcmlwdDpoaXN0b3J5LmJhY2soMSkiPre1ILvYPC9hPiCyotDe1f08YnIgLz48YnIgLz48L2Rpdj4NCgkgICAgPGRpdiBzdHlsZT0id2lkdGg6MTAwJTsgdGV4dC1hbGlnbjogcmlnaHQ7IGxpbmUtaGVpZ2h0OjIwMCU7IHBhZGRpbmctcmlnaHQ6MTBweDsiPls8YSBocmVmPSJqYXZhc2NyaXB0OndpbmRvdy5jbG9zZSgpIj652LHVsb60sL/aPC9hPl08L2Rpdj4NCgkgIDwvZGl2Pg0KCSAgPGRpdiBjbGFzcz0iYmxvY2tub3RlIj6w5sioy/nT0CZjb3B5OyA8YSBocmVmPSJodHRwOi8vd3d3LmJpcXVnZS5sYS8iPrHKyKS48zwvYT48L2Rpdj4NCgk8L2Rpdj4NCiAgPC9kaXY+DQo8L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4=")
	d := mahonia.NewDecoder("gbk")
	_, utf8, _ := d.Translate([]byte(gbk), false)
	fmt.Println(string(gbk))
	fmt.Println(string(utf8))
}